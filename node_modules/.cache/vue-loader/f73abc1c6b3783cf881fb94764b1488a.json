{"remainingRequest":"/home/aigul/projects/rtsp_stream_v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aigul/projects/rtsp_stream_v2/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/aigul/projects/rtsp_stream_v2/src/App.vue","mtime":1613166430730},{"path":"/home/aigul/projects/rtsp_stream_v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/aigul/projects/rtsp_stream_v2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBKU01wZWcgZnJvbSAnanNtcGVnLXBsYXllcicKaW1wb3J0IEtvbnZhIGZyb20gJ2tvbnZhJwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6ICgpID0+ICh7CiAgICBhcnI6IFtdLAogICAgaTogMCwKICAgIGZsYWc6IHRydWUsCiAgICB4OiBudWxsLCB5OiBudWxsLAogIH0pLAogIG1vdW50ZWQoKSB7CiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZGVvQ2FudmFzJyk7CiAgICBsZXQgdXJsID0gJ3dzOi8vMTkyLjE2OC4xLjEwMDo1MDAwJzsKICAgIGxldCBwbGF5ZXIgPSBuZXcgSlNNcGVnLlBsYXllcih1cmwsIHsKICAgICAgY2FudmFzOiBjYW52YXMsCiAgICAgIGF1dG9wbGF5OiB0cnVlLCBhdWRpbzogZmFsc2UsIGxvb3A6IHRydWUsCiAgICAgIG9uVmlkZW9EZWNvZGU6ICgpID0+IHsKICAgICAgfQogICAgfSkKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uICgpIHsKCiAgICB2YXIgc3RhZ2UgPSBuZXcgS29udmEuU3RhZ2UoewogICAgICAvLyBjb250YWluZXI6ICdzdGFnZS1jb250YWluZXInCiAgICAgIGNvbnRhaW5lcjogJ2NvbnRhaW5lcicsCiAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCwKICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsCiAgICB9KTsKCiAgICB2YXIgbGF5ZXIgPSBuZXcgS29udmEuTGF5ZXIoKTsKCiAgICB2YXIgcGF0aCA9IG5ldyBLb252YS5QYXRoKHsKICAgICAgeDogNTAsCiAgICAgIHk6IDQwLAogICAgICBmaWxsOiAnZ3JlZW4nLAogICAgICBzY2FsZTogewogICAgICAgIHg6IDIsCiAgICAgICAgeTogMiwKICAgICAgfSwKICAgIH0pOwoKLy8gYWRkIHRoZSBzaGFwZSB0byB0aGUgbGF5ZXIKICAgIGxheWVyLmFkZChwYXRoKTsKCi8vIGFkZCB0aGUgbGF5ZXIgdG8gdGhlIHN0YWdlCiAgICBzdGFnZS5hZGQobGF5ZXIpOwogIH0sCiAgbWV0aG9kczogewogICAgYXJlYU9uQ2xpY2soZSkgewogICAgICBpZiAodGhpcy5mbGFnKSB7CiAgICAgICAgdmFyIHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdGFnZS1jb250YWluZXInKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICB2YXIgeCA9IGUuY2xpZW50WCAtIHRhcmdldC5sZWZ0OwogICAgICAgIHZhciB5ID0gZS5jbGllbnRZIC0gdGFyZ2V0LnRvcDsKICAgICAgICB0aGlzLnggPSB4OwogICAgICAgIHRoaXMueSA9IHk7CiAgICAgICAgdmFyIGRvdCA9IHt4LCB5fTsKICAgICAgICB0aGlzLmFyci5wdXNoKGRvdCk7CgoKCiAgICAgICAgaWYgKHRoaXMuaSA9PSAwKSB7CiAgICAgICAgICBsaW5lUGF0aC5tb3ZlVG8oeCwgeSk7CiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyh4IC0gdGhpcy5hcnJbMF0ueCkgPiAxMCB8fCBNYXRoLmFicyh5IC0gdGhpcy5hcnJbMF0ueSkgPiAxMCkgewogICAgICAgICAgbGluZVBhdGgubGluZVRvKHgsIHkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgnY2xvc2VBcmVhKCknKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5pKys7CiAgICAgIH0KICAgIH0sCiAgfQp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <canvas class=\"camera myCanvas\" id=\"videoCanvas\" style=\"z-index: 10\"/>\n    <div id=\"stage-container\" class=\"myCanvas\" @click=\"areaOnClick\"\n         style=\"border: 1px solid black; z-index: 10000\"></div>\n    <div id=\"container\"></div>\n\n    <p style=\"margin-top: 700px;\">\n      <strong>Координаты клика:{ {{x}}, {{y}} }</strong>\n      <br/>\n      <strong>Массив:</strong> {{arr}}\n    </p>\n\n    <!--    <button onclick=\"newArea()\">Создать область</button>-->\n    <!--    <button onclick=\"closeArea()\">Замкнуть область</button>-->\n    <!--    <button onclick=\"deleteArea()\">Удалить область</button>-->\n  </div>\n</template>\n\n\n<script>\nimport JSMpeg from 'jsmpeg-player'\nimport Konva from 'konva'\n\nexport default {\n  name: 'App',\n  components: {},\n  data: () => ({\n    arr: [],\n    i: 0,\n    flag: true,\n    x: null, y: null,\n  }),\n  mounted() {\n    let canvas = document.getElementById('videoCanvas');\n    let url = 'ws://192.168.1.100:5000';\n    let player = new JSMpeg.Player(url, {\n      canvas: canvas,\n      autoplay: true, audio: false, loop: true,\n      onVideoDecode: () => {\n      }\n    })\n  },\n  created: function () {\n\n    var stage = new Konva.Stage({\n      // container: 'stage-container'\n      container: 'container',\n      width: window.innerWidth,\n      height: window.innerHeight,\n    });\n\n    var layer = new Konva.Layer();\n\n    var path = new Konva.Path({\n      x: 50,\n      y: 40,\n      fill: 'green',\n      scale: {\n        x: 2,\n        y: 2,\n      },\n    });\n\n// add the shape to the layer\n    layer.add(path);\n\n// add the layer to the stage\n    stage.add(layer);\n  },\n  methods: {\n    areaOnClick(e) {\n      if (this.flag) {\n        var target = document.querySelector('#stage-container').getBoundingClientRect();\n        var x = e.clientX - target.left;\n        var y = e.clientY - target.top;\n        this.x = x;\n        this.y = y;\n        var dot = {x, y};\n        this.arr.push(dot);\n\n\n\n        if (this.i == 0) {\n          linePath.moveTo(x, y);\n        } else if (Math.abs(x - this.arr[0].x) > 10 || Math.abs(y - this.arr[0].y) > 10) {\n          linePath.lineTo(x, y);\n        } else {\n          alert('closeArea()');\n        }\n        this.i++;\n      }\n    },\n  }\n}\n</script>\n\n<style>\nbody {\n  margin: 0;\n}\n\n.myCanvas {\n  position: absolute;\n  width: 1280px;\n  height: 640px;\n  top: 0;\n  left: 10px;\n}\n</style>"]}]}