{"remainingRequest":"/home/aigul/projects/rtsp_stream_v2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aigul/projects/rtsp_stream_v2/src/views/plan.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/aigul/projects/rtsp_stream_v2/src/views/plan.vue","mtime":1614288012013},{"path":"/home/aigul/projects/rtsp_stream_v2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/aigul/projects/rtsp_stream_v2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmNvbnN0IHdpZHRoID0gODAwCmNvbnN0IGhlaWdodCA9IDQwMAoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdwbGFuJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8gYXJyOiBbXSwKICAgICAgLy8gaTogMCwKICAgICAgLy8geDogbnVsbCwgeTogbnVsbCwKICAgICAgY2FudmFzOiBudWxsLAogICAgICBjb250ZXh0OiBudWxsLAogICAgICByZWN0OiBudWxsLAogICAgICBhcmVhczogW10sCiAgICAgIGNhbWVyYXM6IFtdLAogICAgICBjb250cm9sbGVyczogW10sCiAgICAgIHRpbWVyOiBudWxsYGAKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5nZXRBbGxJbmZvLCAxMDAwMCkKICAgIHRoaXMuZ2V0QWxsSW5mbygpCgogICAgdGhpcy5jYW52YXMgPSB0aGlzLiRyZWZzLmNhbnZhcwogICAgdGhpcy5jb250ZXh0ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgiMmQiKTsgLy9jdHgKICAgIHRoaXMuY29udGV4dC5saW5lV2lkdGggPSAyOwogICAgdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gImJsdWUiCiAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gInJnYmEoMCwyNTUsMjU1LDAuMCkiCiAgICB0aGlzLnJlY3QgPSB0aGlzLmNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKQogICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpOwogICAgdGhpcy5jb250ZXh0Lm1vdmVUbygxMzAsIDIwKTsKICAgIHRoaXMuY29udGV4dC5saW5lVG8oMzAwLCAyMCk7CiAgICB0aGlzLmNvbnRleHQubGluZVRvKDI1MCwgMTIwKTsKICAgIHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKQogICAgdGhpcy5jb250ZXh0LmZpbGwoKTsKICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTsKICAgIC8qCiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2spCiAgICAvLyB0aGlzLmRyYXdGcm9tU2VydmVyKCkKICAgICovCiAgfSwKICBiZWZvcmVEZXN0cm95KCkgewogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0QXJlYXMoKSB7CiAgICAgIGF4aW9zLmdldCgnaHR0cDovLzE5Mi4xNjguMS4xMDQ6NTAwMC9hcGkvYXJlYXMnKQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gKHRoaXMuYXJlYXMgPSByZXNwb25zZS5kYXRhKSk7CiAgICB9LAogICAgYXN5bmMgZ2V0Q2FtZXJhcygpIHsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vMTkyLjE2OC4xLjEwNDo1MDAwL2FwaS9jYW1lcmFzJywgewogICAgICAgIGhlYWRlcnM6IHsiQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luIjogIioifQogICAgICB9KQogICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gKHRoaXMuY2FtZXJhcyA9IHJlc3BvbnNlLmRhdGEpKTsKICAgIH0sCiAgICBhc3luYyBnZXRDb250cm9sbGVycygpIHsKICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vMTkyLjE2OC4xLjEwNDo1MDAwL2FwaS9jb250cm9sbGVycy9zY2FuJykKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+ICh0aGlzLmNvbnRyb2xsZXJzID0gcmVzcG9uc2UuZGF0YSkpOwogICAgfSwKICAgIGFzeW5jIGdldEFsbEluZm8oKSB7CiAgICAgIHRoaXMuZ2V0QXJlYXMoKQogICAgICB0aGlzLmdldENhbWVyYXMoKQogICAgICB0aGlzLmdldENvbnRyb2xsZXJzKCkKICAgIH0sCiAgICBhc3luYyBkcmF3QXJlYXMoKXsKICAgICAgdmFyIHN0YXR1cywgY29udHJvbGxlciwgcG9pbnRzLCBzdHIsIHgsIHkKICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMuYXJlYXMubGVuZ3RoOyBpKyspewogICAgICAgIGNvbnRyb2xsZXIgPSB0aGlzLmFyZWFzW2ldLmNvbnRyb2xsZXJfaWQKICAgICAgICBzdGF0dXMgPSB0aGlzLmNvbnRyb2xsZXJzLmZpbmQoY29udHIgPT4gY29udHIuaWQgPT09IGNvbnRyb2xsZXIpLnN0YXR1cwogICAgICAgIHBvaW50cyA9IHRoaXMuYXJlYXNbaV0uY29vcmRpbmF0ZXMKICAgICAgICBmb3IgKHZhciBqPTA7IGo8IHBvaW50cy5sZW5ndGg7ICBqKyspewogICAgICAgICAgc3RyID0gcG9pbnRzW2pdCiAgICAgICAgICBzdHIgPSAoc3RyLnNsaWNlKDAsIDApICsgc3RyLnNsaWNlKDEsIHN0ci5sZW5ndGgtMSkpLnNwbGl0KCcsJykKICAgICAgICAgIHN0clswXSA9IChOdW1iZXIoc3RyWzBdKSp3aWR0aC8xMDApCiAgICAgICAgICBzdHJbMV0gPSAoTnVtYmVyKHN0clsxXSkqaGVpZ2h0LzEwMCkKICAgICAgICAgIHBvaW50c1tqXSA9IFtzdHJbMF0sIHN0clsxXV0KICAgICAgICAgIGNvbnNvbGUubG9nKHBvaW50c1tqXSkKICAgICAgICAgIGlmIChqPT0wKSB7CiAgICAgICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbyhzdHJbMF0sIHN0clsxXSk7CiAgICAgICAgICB9CiAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyhzdHJbMF0sIHN0clsxXSk7CiAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpCiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGwoKTsKICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKCk7CgogICAgICAgIGNvbnNvbGUubG9nKHBvaW50cykKICAgICAgICAvLyB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gYHJnYmEoMCwyNTUsMjU1LCR7c3RhdHVzfSlgCiAgICAgIH0KICAgIH0sCiAgICAvKgogICAgY2xvc2VBcmVhOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMuY29udGV4dC5jbG9zZVBhdGgoKQogICAgICB0aGlzLmNvbnRleHQuZmlsbCgpOwogICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKCk7CiAgICAgIGFsZXJ0KCdjbG9zZUFyZWEnKQogICAgfSwKICAgIC8vIGNob3NlQXJlYShpZCkgewogICAgLy8gICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMucmVjdC53aWR0aCwgdGhpcy5yZWN0LmhlaWdodCkKICAgIC8vICAgdGhpcy5kcmF3RnJvbUFycmF5KHRoaXMuYXJyKQogICAgLy8gICB0aGlzLmNob3NlbkFyZWEgPSBpZAogICAgLy8gICB2YXIgcG9pbnRzID0gdGhpcy5hcnJbaWRdLmRvdHMKICAgIC8vICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpOwogICAgLy8gICB0aGlzLmNvbnRleHQubW92ZVRvKHBvaW50c1swXS54LCBwb2ludHNbMF0ueSk7CiAgICAvLyAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAvLyAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyhwb2ludHNbaV0ueCwgcG9pbnRzW2ldLnkpCiAgICAvLyAgIH0KICAgIC8vICAgdGhpcy5jb250ZXh0LmNsb3NlUGF0aCgpCiAgICAvLyAgIHRoaXMuY29udGV4dC5zdHJva2VTdHlsZSA9ICJyZWQiCiAgICAvLyAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAicmdiYSgyNTUsMCwxNzAsIDAuNCkiCiAgICAvLyAgIHRoaXMuY29udGV4dC5maWxsKCk7CiAgICAvLyAgIHRoaXMuY29udGV4dC5zdHJva2UoKTsKICAgIC8vICAgdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gImJsdWUiCiAgICAvLyAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSAicmdiYSgwLDI1NSwyNTUsMC40KSIKICAgIC8vIH0sCiAgICAvLyBkZWxldGVBcmVhKGlkKSB7CiAgICAvLyAgIHRoaXMuYXJyLnNwbGljZShpZCwgMSkKICAgIC8vICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnJlY3Qud2lkdGgsIHRoaXMucmVjdC5oZWlnaHQpCiAgICAvLyAgIHRoaXMuZHJhd0Zyb21BcnJheSh0aGlzLmFycikKICAgIC8vICAgdGhpcy5jaG9zZW5BcmVhID0gLTEKICAgIC8vIH0sCiAgICBkZWxEcmF3aW5nQXJlYSgpIHsKICAgICAgdGhpcy5hcnIgPSBbXQogICAgICB0aGlzLmkgPSAwCiAgICAgIHRoaXMueCA9IG51bGwKICAgICAgdGhpcy55ID0gbnVsbAoKICAgICAgdGhpcy5jb250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLnJlY3Qud2lkdGgsIHRoaXMucmVjdC5oZWlnaHQpCiAgICAgIHRoaXMuZHJhd0Zyb21BcnJheSh0aGlzLmFycikKICAgIH0sCiAgICBjbGljayhlKSB7CiAgICAgIHZhciB4ID0gZS5jbGllbnRYIC0gdGhpcy5yZWN0LmxlZnQKICAgICAgdmFyIHkgPSBlLmNsaWVudFkgLSB0aGlzLnJlY3QudG9wCiAgICAgIC8vIGlmICghdGhpcy5pc0RyYXdpbmcpIHsKICAgICAgLy8gICBpZiAodGhpcy5pbnNpZGUoe3gsIHl9LCB0aGlzLmFycikgIT0gLTEpIHsKICAgICAgLy8gICAgIHRoaXMuY2hvc2VBcmVhKHRoaXMuaW5zaWRlKHt4LCB5fSwgdGhpcy5hcnIpKQogICAgICAvLyAgIH0KICAgICAgLy8gfSBlbHNlIHsKICAgICAgICB0aGlzLmFyci5wdXNoKHt4LCB5fSkKICAgICAgICBpZiAodGhpcy5pID09IDApIHsKICAgICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgICAgIHRoaXMuY29udGV4dC5tb3ZlVG8oeCwgeSk7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLmkgPiAwKSB7CiAgICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKHgsIHkpOwogICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZSgpOwogICAgICAgICAgaWYgKE1hdGguYWJzKHggLSB0aGlzLmFyclswXS54KSA8IDEwICYmIE1hdGguYWJzKHkgLSB0aGlzLmFyclswXS55KSA8IDEwKSB7CiAgICAgICAgICAgIHRoaXMuY2xvc2VBcmVhKCkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5pKysKCiAgICB9LAogICAgZHJhd0Zyb21BcnJheShhcnIpIHsKICAgICAgdmFyIHBvaW50cwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIHBvaW50cyA9IGFycltpXS5kb3RzCiAgICAgICAgdGhpcy5jb250ZXh0LmJlZ2luUGF0aCgpCiAgICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbyhwb2ludHNbMF0ueCwgcG9pbnRzWzBdLnkpOwogICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgcG9pbnRzLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICB2YXIgeCA9IHBvaW50c1tqXS54CiAgICAgICAgICB2YXIgeSA9IHBvaW50c1tqXS55CiAgICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKHgsIHkpOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbnRleHQuY2xvc2VQYXRoKCkKICAgICAgICB0aGlzLmNvbnRleHQuZmlsbCgpOwogICAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTsKICAgICAgfQogICAgfSwKICAgIHB4VG9Qcm9jZW50KHgsIHkpIHsKICAgICAgcmV0dXJuIHsneCc6IE1hdGgucm91bmQoKHggLyB0aGlzLnJlY3Qud2lkdGgpICogMTAwKSwgJ3knOiBNYXRoLnJvdW5kKCh5IC8gdGhpcy5yZWN0LmhlaWdodCkgKiAxMDApfQogICAgfSwKICAgIHByb2NlbnRUb1B4KHgsIHkpIHsKICAgICAgcmV0dXJuIHsneCc6IHggKiB0aGlzLnJlY3Qud2lkdGggLyAxMDAsICd5JzogeSAqIHRoaXMucmVjdC5oZWlnaHQgLyAxMDB9CiAgICB9LAogICAgaW5zaWRlKHBvaW50LCB2cykgewogICAgICB2YXIgeCA9IHBvaW50LngsIHkgPSBwb2ludC55OwogICAgICB2YXIgaW5zaWRlID0gZmFsc2UsIHBvaW50cyA9IFtdCiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdnMubGVuZ3RoOyBrKyspIHsKICAgICAgICBwb2ludHMgPSB2c1trXS5kb3RzCiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSBwb2ludHMubGVuZ3RoIC0gMTsgaSA8IHBvaW50cy5sZW5ndGg7IGogPSBpKyspIHsKICAgICAgICAgIHZhciB4aSA9IHBvaW50c1tpXS54LCB5aSA9IHBvaW50c1tpXS55OwogICAgICAgICAgdmFyIHhqID0gcG9pbnRzW2pdLngsIHlqID0gcG9pbnRzW2pdLnk7CgogICAgICAgICAgdmFyIGludGVyc2VjdCA9ICgoeWkgPiB5KSAhPSAoeWogPiB5KSkKICAgICAgICAgICAgICAmJiAoeCA8ICh4aiAtIHhpKSAqICh5IC0geWkpIC8gKHlqIC0geWkpICsgeGkpOwogICAgICAgICAgaWYgKGludGVyc2VjdCkgaW5zaWRlID0gIWluc2lkZTsKICAgICAgICB9CiAgICAgICAgaWYgKGluc2lkZSkgewogICAgICAgICAgcmV0dXJuIGsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIC0xCiAgICB9LAogICAgYXJyUHhUb1Byb2MoYXJyKSB7CiAgICAgIGNvbnNvbGUubG9nKGFyci5sZW5ndGgpCiAgICAgIHZhciBwb2ludHMsIGFycjEgPSBbXSwgcG9pbnRzMiA9IFtdLCBkb3QKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBwb2ludHMgPSBhcnJbaV0uZG90cwogICAgICAgIGNvbnNvbGUubG9nKHBvaW50cywgcG9pbnRzLmxlbmd0aCkKICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBvaW50cy5sZW5ndGg7IGorKykgewogICAgICAgICAgZG90ID0gdGhpcy5weFRvUHJvY2VudChwb2ludHNbal0ueCwgcG9pbnRzW2pdLnkpCiAgICAgICAgICBwb2ludHMyLnB1c2goZG90KQogICAgICAgIH0KICAgICAgICBhcnIxLnB1c2goeydpZCc6IGksICdkb3RzJzogcG9pbnRzMn0pCiAgICAgICAgcG9pbnRzID0gbnVsbAogICAgICB9CiAgICAgIHJldHVybiBhcnIxCiAgICB9LCovCiAgfQp9Cg=="},{"version":3,"sources":["plan.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"plan.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"plan\">\n    <h2>План помещения:</h2>\n    <div class=\"position-relative\">\n      <b-img class=\"myCanvas\" src=\"/plan1.png\" height=\"400\" width=\"800\"></b-img>\n      <canvas ref=\"canvas\" id='drawing-pad' width='800' height=\"400\" style=\"z-index: 100; border: 2px solid black\"\n              class=\"myCanvas\">\n        This is an interactive drawing pad.\n      </canvas>\n    </div>\n    <div style=\"margin-top: 450px\">\n      <b-button v-on:click=\"this.drawAreas\">Нарисовать области</b-button>\n      <p> Areas: {{areas}}</p>\n      <p>  Cameras: {{cameras}}</p>\n      <p> Controllers: {{controllers}}</p>\n      <p>{{controllers[0].id}}</p>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nconst width = 800\nconst height = 400\n\nexport default {\n  name: 'plan',\n  data() {\n    return {\n      // arr: [],\n      // i: 0,\n      // x: null, y: null,\n      canvas: null,\n      context: null,\n      rect: null,\n      areas: [],\n      cameras: [],\n      controllers: [],\n      timer: null``\n    }\n  },\n  mounted() {\n    this.timer = setInterval(this.getAllInfo, 10000)\n    this.getAllInfo()\n\n    this.canvas = this.$refs.canvas\n    this.context = this.canvas.getContext(\"2d\"); //ctx\n    this.context.lineWidth = 2;\n    this.context.strokeStyle = \"blue\"\n    this.context.fillStyle = \"rgba(0,255,255,0.0)\"\n    this.rect = this.canvas.getBoundingClientRect()\n    this.context.beginPath();\n    this.context.moveTo(130, 20);\n    this.context.lineTo(300, 20);\n    this.context.lineTo(250, 120);\n    this.context.closePath()\n    this.context.fill();\n    this.context.stroke();\n    /*\n    this.canvas.addEventListener('click', this.click)\n    // this.drawFromServer()\n    */\n  },\n  beforeDestroy() {\n    clearInterval(this.timer)\n  },\n  methods: {\n    async getAreas() {\n      axios.get('http://192.168.1.104:5000/api/areas')\n          .then(response => (this.areas = response.data));\n    },\n    async getCameras() {\n      axios.get('http://192.168.1.104:5000/api/cameras', {\n        headers: {\"Access-Control-Allow-Origin\": \"*\"}\n      })\n          .then(response => (this.cameras = response.data));\n    },\n    async getControllers() {\n      axios.get('http://192.168.1.104:5000/api/controllers/scan')\n          .then(response => (this.controllers = response.data));\n    },\n    async getAllInfo() {\n      this.getAreas()\n      this.getCameras()\n      this.getControllers()\n    },\n    async drawAreas(){\n      var status, controller, points, str, x, y\n      for (var i=0; i<this.areas.length; i++){\n        controller = this.areas[i].controller_id\n        status = this.controllers.find(contr => contr.id === controller).status\n        points = this.areas[i].coordinates\n        for (var j=0; j< points.length;  j++){\n          str = points[j]\n          str = (str.slice(0, 0) + str.slice(1, str.length-1)).split(',')\n          str[0] = (Number(str[0])*width/100)\n          str[1] = (Number(str[1])*height/100)\n          points[j] = [str[0], str[1]]\n          console.log(points[j])\n          if (j==0) {\n            this.context.beginPath();\n            this.context.moveTo(str[0], str[1]);\n          }\n          else {\n            this.context.lineTo(str[0], str[1]);\n            this.context.stroke();\n          }\n        }\n        this.context.closePath()\n        this.context.fill();\n        this.context.stroke();\n\n        console.log(points)\n        // this.context.fillStyle = `rgba(0,255,255,${status})`\n      }\n    },\n    /*\n    closeArea: function () {\n      this.context.closePath()\n      this.context.fill();\n      this.context.stroke();\n      alert('closeArea')\n    },\n    // choseArea(id) {\n    //   this.context.clearRect(0, 0, this.rect.width, this.rect.height)\n    //   this.drawFromArray(this.arr)\n    //   this.chosenArea = id\n    //   var points = this.arr[id].dots\n    //   this.context.beginPath();\n    //   this.context.moveTo(points[0].x, points[0].y);\n    //   for (var i = 0; i < points.length; i++) {\n    //     this.context.lineTo(points[i].x, points[i].y)\n    //   }\n    //   this.context.closePath()\n    //   this.context.strokeStyle = \"red\"\n    //   this.context.fillStyle = \"rgba(255,0,170, 0.4)\"\n    //   this.context.fill();\n    //   this.context.stroke();\n    //   this.context.strokeStyle = \"blue\"\n    //   this.context.fillStyle = \"rgba(0,255,255,0.4)\"\n    // },\n    // deleteArea(id) {\n    //   this.arr.splice(id, 1)\n    //   this.context.clearRect(0, 0, this.rect.width, this.rect.height)\n    //   this.drawFromArray(this.arr)\n    //   this.chosenArea = -1\n    // },\n    delDrawingArea() {\n      this.arr = []\n      this.i = 0\n      this.x = null\n      this.y = null\n\n      this.context.clearRect(0, 0, this.rect.width, this.rect.height)\n      this.drawFromArray(this.arr)\n    },\n    click(e) {\n      var x = e.clientX - this.rect.left\n      var y = e.clientY - this.rect.top\n      // if (!this.isDrawing) {\n      //   if (this.inside({x, y}, this.arr) != -1) {\n      //     this.choseArea(this.inside({x, y}, this.arr))\n      //   }\n      // } else {\n        this.arr.push({x, y})\n        if (this.i == 0) {\n          this.context.beginPath();\n          this.context.moveTo(x, y);\n        }\n        if (this.i > 0) {\n          this.context.lineTo(x, y);\n          this.context.stroke();\n          if (Math.abs(x - this.arr[0].x) < 10 && Math.abs(y - this.arr[0].y) < 10) {\n            this.closeArea()\n          }\n        }\n        this.i++\n\n    },\n    drawFromArray(arr) {\n      var points\n      for (var i = 0; i < arr.length; i++) {\n        points = arr[i].dots\n        this.context.beginPath()\n        this.context.moveTo(points[0].x, points[0].y);\n        for (var j = 1; j < points.length; j++) {\n          var x = points[j].x\n          var y = points[j].y\n          this.context.lineTo(x, y);\n        }\n        this.context.closePath()\n        this.context.fill();\n        this.context.stroke();\n      }\n    },\n    pxToProcent(x, y) {\n      return {'x': Math.round((x / this.rect.width) * 100), 'y': Math.round((y / this.rect.height) * 100)}\n    },\n    procentToPx(x, y) {\n      return {'x': x * this.rect.width / 100, 'y': y * this.rect.height / 100}\n    },\n    inside(point, vs) {\n      var x = point.x, y = point.y;\n      var inside = false, points = []\n      for (var k = 0; k < vs.length; k++) {\n        points = vs[k].dots\n        for (var i = 0, j = points.length - 1; i < points.length; j = i++) {\n          var xi = points[i].x, yi = points[i].y;\n          var xj = points[j].x, yj = points[j].y;\n\n          var intersect = ((yi > y) != (yj > y))\n              && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);\n          if (intersect) inside = !inside;\n        }\n        if (inside) {\n          return k\n        }\n      }\n      return -1\n    },\n    arrPxToProc(arr) {\n      console.log(arr.length)\n      var points, arr1 = [], points2 = [], dot\n      for (var i = 0; i < arr.length; i++) {\n        points = arr[i].dots\n        console.log(points, points.length)\n        for (var j = 0; j < points.length; j++) {\n          dot = this.pxToProcent(points[j].x, points[j].y)\n          points2.push(dot)\n        }\n        arr1.push({'id': i, 'dots': points2})\n        points = null\n      }\n      return arr1\n    },*/\n  }\n}\n</script>\n\n<style>\n\n.myCanvas {\n  position: absolute;\n  top: 0px\n}\n</style>"]}]}